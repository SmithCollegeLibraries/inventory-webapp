/*! For license information please see main.7e65a792.chunk.js.LICENSE.txt */
(this["webpackJsonpinventory-webapp"]=this["webpackJsonpinventory-webapp"]||[]).push([[0],{112:function(t,e,r){},114:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(16),c=r.n(o),i=r(24),u=r(4),s=r(17),l=r(18),f=r(37),h=r(36),p=r(22),d=r(12),v=(r(79),r(80),r(81),r(73)),m=r(46),y=r(15),g=r(8),b="https://libtools.smith.edu/sis/backend/web/",w="".concat(b,"user/"),E="".concat(b,"settings/"),x="".concat(b,"tray-api/"),O="".concat(b,"collection-api/"),k="".concat(b,"shelf-api/"),L="".concat(b,"item-api/"),j=b+"tray-api/search-title/",S=b+"tray-api/tray-status-update/",_=b+"history/",T=r(31),C=r.n(T),N=new(Object(l.a)((function t(){var e=this;Object(s.a)(this,t),this.messageType=function(t,r){switch(t){case"error":e.error(r)}},this.error=function(t){C.a.error("<h5>".concat(t.name,"</h5><p>").concat(t.message,"</p>"),{html:!0,position:"top-left",timeout:"none"})},this.success=function(t){C.a.success(t,{position:"top-left"})},this.info=function(t){C.a.info(t,{position:"top-left"})},this.duplicate=function(t,e){C.a.error("<h5>Duplicate barcode found</h5><ul><li>Tray: ".concat(t,"</li><li>Barcode: ").concat(e,"</li></ul>"),{html:!0,position:"top-left",timeout:"none"})}})));function A(){var t=new Date,e=t.getMonth()+1,r=t.getDate(),n=t.getHours(),a=t.getMinutes(),o=t.getSeconds();return e=(e<10?"0":"")+e,r=(r<10?"0":"")+r,n=(n<10?"0":"")+n,a=(a<10?"0":"")+a,o=(o<10?"0":"")+o,"".concat(t.getFullYear()+"-"+e+"-"+r+" "+n+":"+a+":"+o)}function I(){I=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function s(t,e,r,a){var o=e&&e.prototype instanceof h?e:h,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:E(t,r,i)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=s;var f={};function h(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=d.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var a;n(this,"_invoke",{value:function(n,o){function c(){return new e((function(a,c){!function n(a,o,c,i){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,i)}))}i(u.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function E(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new w(s(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},b(g),u(g,i,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var P=new(Object(l.a)((function t(){var e=this;Object(s.a)(this,t),this.createAccount=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleAccount("".concat(w,"create-account/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getAccount=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleAccount("".concat(w,"login/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.verifyAccount=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleAccount("".concat(w,"account-exists/"),"GET",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getUsers=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(w,"get-users/"),"GET",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.accountDelete=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(w,"delete-users/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.accountUpdate=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(w,"update-account/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.newTray=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(x,"new-tray/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.itemSearch=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(L,"search/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.itemInFolio=function(){var t=Object(u.a)(I().mark((function t(r){var n,a;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={barcode:r},t.next=3,e.handleUpdate("".concat(L,"check-folio/"),"POST",n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.createNewCollection=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(O,"new-collection/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.collectionHasItems=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(O,"collection-has-items/"),"GET",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.collectionExists=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(O,"collection-exists/"),"GET",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.updateCollection=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(O,"update-collection/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.deleteCollection=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(O,"delete-collection/"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getHistory=function(){var t=Object(u.a)(I().mark((function t(r){var n,a,o=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",t.next=3,e.handleUpdate("".concat(_,"filter-columns/").concat(n?"?page=".concat(n):""),"POST",r);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.updateShelf=function(){var t=Object(u.a)(I().mark((function t(r,n){var a;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(k,"shelf-update"),"POST",r);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),this.deleteShelf=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(k,"delete-individual-items"),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.newTray=function(){var t=Object(u.a)(I().mark((function t(r){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("https://libtools.smith.edu/sis/backend/web/tray-api/new-tray/","POST",r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.deleteTrays=function(){var t=Object(u.a)(I().mark((function t(r,n){var a,o;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={action:"deleted tray",item:r.boxbarcode,status_change:"deleted",timestamp:A()},e.handleUpdate("".concat(_,"create/"),"POST",a),t.next=4,e.handleUpdate("".concat(S,"delete/").concat(n),"DELETE",r);case 4:return o=t.sent,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),this.processBarcodes=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("".concat(S),"POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.insertShelf=function(){var t=Object(u.a)(I().mark((function t(r){var n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdate("https://libtools.smith.edu/sis/backend/web/shelf-api/shelf-insert/","POST",r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.handleAccount=function(){var t=Object(u.a)(I().mark((function t(r,n,a){var o;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(r,{method:"".concat(n),body:JSON.stringify(a)});case 3:return o=t.sent,t.abrupt("return",e.responseHandling(o));case 7:t.prev=7,t.t0=t.catch(0),e.catchError("",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n){return t.apply(this,arguments)}}(),this.handleUpdate=function(){var t=Object(u.a)(I().mark((function t(r,n,a){var o,c,i,u;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=JSON.parse(sessionStorage.getItem("account")),c=(o||"").account,i=(c||"").access_token,t.prev=3,t.next=6,fetch(r.includes("?")?"".concat(r,"&access-token=").concat(i):"".concat(r,"?access-token=").concat(i),{method:"".concat(n),body:JSON.stringify(a)});case 6:return u=t.sent,t.abrupt("return",e.responseHandling(u));case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",e.catchError("",t.t0));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,r,n){return t.apply(this,arguments)}}(),this.responseHandling=function(){var t=Object(u.a)(I().mark((function t(r){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r.status,t.next=200===t.t0||201===t.t0||304===t.t0?3:204===t.t0?6:400===t.t0?7:401===t.t0||403===t.t0?9:404===t.t0?11:405===t.t0?13:422===t.t0?15:500===t.t0?17:19;break;case 3:return t.next=5,r.json();case 5:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",{});case 7:return e.catchError("Bad Request",r.statusText),t.abrupt("break",20);case 9:return e.catchError("Authentication failed",r.statusText),t.abrupt("break",20);case 11:return e.catchError("Doesn't exist",r.statusText),t.abrupt("break",20);case 13:return e.catchError("Method not allowed",r.statusText),t.abrupt("break",20);case 15:return e.catchError("Data Validation Fail",r.statusText),t.abrupt("break",20);case 17:return e.catchError("Internal Server error",r.statusText),t.abrupt("break",20);case 19:e.catchError("There was an error.  Check your internet connection","");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.catchError=function(t,e){var r={name:t,message:e};N.error(r)}}))),D=r(68),F=r(115),G=r(116),U=r(117),R=r(118),V=r(119),q=r(120),Y=r(121),H=r(122),B=r(123),M=r(19),J=r.n(M);var W=r(28),K=function(t){W.b.success(t,{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0})},z=function(t){W.b.error(t,{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0})},Z=function(t){W.b.warn(t,{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0})};function $(){$=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function s(t,e,r,a){var o=e&&e.prototype instanceof h?e:h,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:E(t,r,i)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=s;var f={};function h(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=d.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var a;n(this,"_invoke",{value:function(n,o){function c(){return new e((function(a,c){!function n(a,o,c,i){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,i)}))}i(u.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function E(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new w(s(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},b(g),u(g,i,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var Q={original:{collection:"",tray:"",barcodes:[]},verify:{tray:"",barcodes:[]},verified:[],checkedOnFolio:[],form:"original",trayValid:!1,trayLength:8,timeout:0,email:"",locked:!1},X=function(t,e){switch(e.type){case"ADD_ORIGINAL":return Object(g.a)(Object(g.a)({},t),{},{original:e.original});case"CHECKED_ON_FOLIO":return Object(g.a)(Object(g.a)({},t),{},{checkedOnFolio:e.checkedOnFolio});case"ADD_VERIFY":return Object(g.a)(Object(g.a)({},t),{},{verify:e.verify});case"ADD_VERIFIED":case"LOCAL_VERIFIED":return Object(g.a)(Object(g.a)({},t),{},{verified:e.verified});case"CHANGE_FORM":return Object(g.a)(Object(g.a)({},t),{},{form:e.form});case"UPDATE_TRAY_LENGTH":return Object(g.a)(Object(g.a)({},t),{},{trayLength:e.trayLength});case"REMOVE_ITEM":var r=e.verified.filter((function(t,r){return r!==e.id}));return Object(g.a)(Object(g.a)({},t),{},{verified:r});case"RESET":return Object(g.a)(Object(g.a)({},t),{},{form:"original",original:{collection:!0===t.locked?t.original.collection:"",tray:"",barcodes:[]},verify:{collection:!0===t.locked?t.verify.collection:"",tray:"",barcodes:[]}});case"LOCK_COLLECTION":return Object(g.a)(Object(g.a)({},t),{},{locked:!t.locked});default:return t}},tt=function(t){return a.a.createElement(V.a,null,a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"collections"},"Collections"),a.a.createElement(H.a,{type:"select",value:t.original.collection,onChange:function(e){return t.handleVerifyOnChange(e)},name:"collection"},t.collections?Object.keys(t.collections).map((function(e,r){return a.a.createElement("option",{key:r},t.collections[e].name)})):a.a.createElement("option",null))),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"tray"},"Tray",t.verify.tray.length===t.trayLength?a.a.createElement(B.a,{color:"success"},t.trayLength):a.a.createElement(B.a,{color:"danger"},t.verify.tray.length)),a.a.createElement(H.a,{type:"text",onKeyDown:t.handleEnter,name:"tray",value:t.verify.tray,onChange:function(e){return t.handleVerifyOnChange(e)},placeholder:"Tray barcode"})),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"tray"},"Barcodes"),a.a.createElement(H.a,{type:"textarea",rows:"10",value:t.verify.barcodes,onChange:function(e){return t.handleVerifyOnChange(e)},name:"barcodes"})),a.a.createElement(D.a,{onClick:function(e){return t.handleVerifySubmit(e)},color:"success"},"Verify"))},et=function(t){return a.a.createElement("div",null,a.a.createElement(V.a,{className:"sticky-top"},a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"collections"},"Collections"),a.a.createElement(H.a,{type:"select",value:t.original.collection,onChange:function(e){return t.handleOriginalOnChange(e)},name:"collection"},a.a.createElement("option",null,"Select Collection"),t.collections?Object.keys(t.collections).map((function(e,r){return a.a.createElement("option",{value:t.collections[e].name,key:r},t.collections[e].name)})):a.a.createElement("option",null))),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"tray"},"Tray"," ",t.original.tray.length===t.trayLength?a.a.createElement(B.a,{color:"success"},t.trayLength):a.a.createElement(B.a,{color:"danger"},t.original.tray.length)),a.a.createElement(H.a,{type:"text",name:"tray",onKeyDown:t.handleEnter,value:t.original.tray,onChange:function(e){return t.handleOriginalOnChange(e)},placeholder:"Tray barcode"})),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"tray"},"Barcodes"),a.a.createElement(H.a,{type:"textarea",value:t.original.barcodes,rows:"10",onChange:function(e){return t.handleOriginalOnChange(e)},name:"barcodes"})),t.original.tray.length===t.trayLength?a.a.createElement(D.a,{onClick:function(e){return t.handleOriginalSubmit(e)},color:"primary"},"Submit"):a.a.createElement(D.a,{onClick:function(t){return t.preventDefault},color:"secondary"},"Submit")),a.a.createElement("br",null),Object.keys(t.verified).map((function(t){return t})).length?a.a.createElement(rt,{processRequests:t.processRequests}):"")},rt=function(t){return a.a.createElement(V.a,null,a.a.createElement(D.a,{onClick:function(e){return t.processRequests(e)},color:"success"},"Process data"))},nt=function(t){return Object.keys(t.data).map((function(e,r){return a.a.createElement(U.a,{key:e},a.a.createElement(R.a,null,a.a.createElement("dl",{className:"row"},a.a.createElement("dt",{className:"col-sm-3"},"Tray barcode"),a.a.createElement("dd",{className:"col-sm-9"},t.data[e].tray),a.a.createElement("dt",{className:"col-sm-3"},"Item barcodes"),a.a.createElement("dd",{className:"col-sm-9"},t.data[e].barcodes),a.a.createElement("dt",{className:"col-sm-3"},"Collection"),a.a.createElement("dd",{className:"col-sm-9"},t.data[e].collection)),a.a.createElement(D.a,{color:"danger",onClick:function(){return t.removeItem(e)}},"Delete")))}))},at=function(t){var e=Object(n.useReducer)(X,Q),r=Object(y.a)(e,2),o=r[0],c=r[1],s=function(t,e){var r=Object(n.useState)(t),a=Object(y.a)(r,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){var r=setTimeout((function(){c(t)}),e);return function(){clearTimeout(r)}}),[t]),o}(o.original.barcodes,500);Object(n.useEffect)((function(){(function(){var t=Object(u.a)($().mark((function t(){var e;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l("tray");case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:e=t.t0,c({type:"LOCAL_VERIFIED",verified:e});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){if(t){c({type:"UPDATE_TRAY_LENGTH",trayLength:8})}}),[t]),Object(n.useEffect)((function(){var t=function(){var t=Object(u.a)($().mark((function t(e){var r,n;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={barcodes:e},t.next=3,P.itemSearch(r);case 3:if(!((n=t.sent)&&n[0]&&n[0].id)){t.next=8;break}n.map((function(t){return z("".concat(t.barcode," is already trayed")),!1})),t.next=9;break;case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e=function(){var t=Object(u.a)($().mark((function t(e){var r,n,a;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(m.a)(e),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=13;break}if(a=n.value,o.checkedOnFolio.includes(a)){t.next=11;break}return t.next=8,P.itemInFolio(a);case 8:t.sent||Z("Unable to locate FOLIO record for ".concat(a,". Please verify record exists before submitting this barcode")),c({type:"CHECKED_ON_FOLIO",checkedOnFolio:[].concat(Object(v.a)(o.checkedOnFolio),[a])});case 11:t.next=3;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[1,15,18,21]])})));return function(e){return t.apply(this,arguments)}}(),r=!1;if(s&&s.length>0){var n,a=s.split("\n").slice(0,-1),i=Object(m.a)(a);try{for(i.s();!(n=i.n()).done;){var l=n.value;""!==l&&(l.startsWith("3101")?15!==l.length&&(Z("".concat(l," must be ").concat(15," characters long. You currently have ").concat(l.length)),r=!0):(Z("".concat(l," does not begin with 3101")),r=!0))}}catch(f){i.e(f)}finally{i.f()}if(!r)t(a)&&e(a);new Set(a).size!==a.length&&z("Duplicate barcode detected")}}),[s]);var l=function(){var t=Object(u.a)($().mark((function t(e){var r;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.getItem(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){return!!o.original.collection||(z("You must select a collection"),!1)},h=function(){var t=o.original,e=o.trayLength;return t.tray.length===e||(z("Tray barcode must be ".concat(e," characters")),!1)},p=function(t){if(t.preventDefault(),o.original.tray.trim()!==o.verify.tray.trim())z("Mismatch! \n Original tray: \n"+o.original.tray+" \n Verify tray: \n"+o.verify.tray);else if(o.original.barcodes.trim()!==o.verify.barcodes.trim())z("Mismatch! \n Original barcodes: \n"+o.original.barcodes+" \n Verify barcodes: \n"+o.verify.barcodes);else{var e=o.verified;e[Date.now()]={collection:o.original.collection,tray:o.verify.tray,barcodes:o.verify.barcodes},J.a.setItem("tray",e),c({type:"ADD_VERIFIED",verified:e}),c({type:"RESET"})}},d=function(){var t=Object(u.a)($().mark((function t(e){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),Object.keys(o.verified).map(function(){var t=Object(u.a)($().mark((function t(e,r){var n;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.newTray(o.verified[e]);case 2:!0===(n=t.sent)?(K("".concat(o.verified[e].tray," successfully added")),b(e)):z("".concat(n.barcode," in tray ").concat(n.boxbarcode," was already added on ").concat(n.added));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(t){if(window.confirm("Are you sure you want to delete this tray? This action cannot be undone.")){c({type:"REMOVE_ITEM",id:t});var e=Object.keys(o.verified).filter((function(e){return e!==t})).reduce((function(t,e){return t[e]=o.verified[e],t}),{});c({type:"ADD_VERIFIED",verified:e}),J.a.setItem("tray",e)}},w=function(t){if(13===t.keyCode){var e=t.target.form,r=Array.prototype.indexOf.call(e,t.target);e.elements[r+1].focus(),t.preventDefault()}},E=function(t){c({type:"LOCK_COLLECTION"})};return a.a.createElement(n.Fragment,null,a.a.createElement("div",{style:{paddingTop:"10px"}},a.a.createElement(D.a,{color:o.locked?"success":"primary",onClick:function(t){return E()}},o.locked?"Collection locked":"Lock collection")," ",a.a.createElement(D.a,{color:"warning",onClick:function(t){window.confirm("Are you sure you want to clear all currently staged trays? This action cannot be undone.")&&(c({type:"RESET"}),c({type:"ADD_VERIFIED",verified:[]}),J.a.setItem("tray",{}))}},"Clear all")),a.a.createElement("div",{style:{marginTop:"50px"}},a.a.createElement(F.a,null,a.a.createElement(G.a,{md:"4"},a.a.createElement(U.a,null,a.a.createElement(R.a,null,a.a.createElement(et,{handleOriginalOnChange:function(t){t.preventDefault();var e=t.target.value;"tray"===t.target.name&&(e=t.target.value.replace(/\D/g,""));var r=o.original;r[t.target.name]=e,c({type:"ADD_ORIGINAL",original:r})},collections:t.collections,handleOriginalSubmit:function(t){t.preventDefault(),f()&&h()&&c({type:"CHANGE_FORM",form:"verify"})},processRequests:d,verified:o.verified,trayLength:o.trayLength,original:o.original,handleEnter:w,lockCollection:E,handleVerifySubmit:p})))),"original"!==o.form?a.a.createElement(G.a,{md:"4"},a.a.createElement(U.a,null,a.a.createElement(R.a,null,a.a.createElement(tt,{handleVerifyOnChange:function(t){t.preventDefault();var e=o.verify,r=t.target.value;"tray"===t.target.name&&(r=t.target.value.replace(/\D/g,"")),e[t.target.name]=r,c({type:"ADD_VERIFY",verify:e})},collections:t.collections,handleVerifySubmit:p,original:o.original,trayLength:o.trayLength,verify:o.verify,handleEnter:w})))):"",a.a.createElement(G.a,null,a.a.createElement(nt,{data:o.verified,collections:t.collections,handleDisplayChange:function(t,e){var r=o.verified,n=Object(g.a)(Object(g.a)({},r[e]),{},Object(i.a)({},t.currentTarget.name,t.currentTarget.value));r[e]=n,J.a.setItem("tray",r),c({type:"ADD_VERIFIED",verified:r})},removeItem:b})))))};function ot(){ot=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function s(t,e,r,a){var o=e&&e.prototype instanceof h?e:h,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:E(t,r,i)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=s;var f={};function h(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=d.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var a;n(this,"_invoke",{value:function(n,o){function c(){return new e((function(a,c){!function n(a,o,c,i){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,i)}))}i(u.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function E(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new w(s(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},b(g),u(g,i,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var ct=new(Object(l.a)((function t(){var e=this;Object(s.a)(this,t),this.collections=Object(u.a)(ot().mark((function t(){var r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat(O));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),this.setting=Object(u.a)(ot().mark((function t(){var r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search(E);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),this.autocomplete=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat(x,"auto-complete-tray/?query=").concat(r));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.traymanagement=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat("https://libtools.smith.edu/sis/backend/web//tray-api/search-tray-id/","?query=").concat(r.replace(/[^0-9]+/g,"")));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.shelfmanagement=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat("https://libtools.smith.edu/sis/backend/web/shelf-api/search-all-shelf/","?query=").concat(r));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.traySearch=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.replace("SM",""),t.next=3,e.search("".concat("https://libtools.smith.edu/sis/backend/web/tray-api/search-tray/","?query=").concat(r.replace(/[^0-9]+/g,"")));case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.pagingSlips=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat("https://libtools.smith.edu/sis/backend/web/tray-api/paging-slips/","?day=").concat(r));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.recordData=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.searchPost("".concat("https://libtools.smith.edu/sis/backend/web/tray-api/search-barcode-post/"),r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.reports=function(){var t=Object(u.a)(ot().mark((function t(r,n){var a;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat("https://libtools.smith.edu/sis/backend/web/statistics/").concat(r).concat(n));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),this.searchAleph=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat("https://libtools.smith.edu/sis/backend/web/tray-api/search-barcode/","?").concat(r));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getInternalRequests=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat("https://libtools.smith.edu/sis/backend/web/internal-requests/","status?completed=").concat(r));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.trayShelfSearch=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat("https://libtools.smith.edu/sis/backend/web/shelf-api/search-shelf-id/","?query=").concat(r.replace(/[^0-9]+/g,"")));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.ill=function(){var t=Object(u.a)(ot().mark((function t(r,n){var a;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="",t.t0=r,t.next="title"===t.t0?4:"oclc"===t.t0?8:"callnumber"===t.t0?12:16;break;case 4:return t.next=6,e.search("".concat(j,"?query=").concat(n));case 6:return a=t.sent,t.abrupt("break",20);case 8:return t.next=10,e.search("".concat("https://libtools.smith.edu/sis/backend/web/tray-api/search-oclc/","?query=").concat(n));case 10:return a=t.sent,t.abrupt("break",20);case 12:return t.next=14,e.search("".concat("https://libtools.smith.edu/sis/backend/web/tray-api/search-call/","?query=").concat(n));case 14:return a=t.sent,t.abrupt("break",20);case 16:return t.next=18,e.search("".concat(j,"?query=").concat(n));case 18:return a=t.sent,t.abrupt("break",20);case 20:return t.abrupt("return",a);case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),this.getHistory=Object(u.a)(ot().mark((function t(){var r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat(_,"?sort=-timestamp"));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),this.searchHistory=function(){var t=Object(u.a)(ot().mark((function t(r){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.search("".concat(_,"search?query=").concat(r));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.search=function(){var t=Object(u.a)(ot().mark((function t(r){var n,a,o,c;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(sessionStorage.getItem("account")),a=(n||"").account,o=(a||"").access_token,t.prev=3,t.next=6,fetch(r.includes("?")?"".concat(r,"&access-token=").concat(o):"".concat(r,"?access-token=").concat(o));case 6:return c=t.sent,t.abrupt("return",e.responseHandling(c));case 10:t.prev=10,t.t0=t.catch(3),e.catchError("",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),this.searchPost=function(){var t=Object(u.a)(ot().mark((function t(r,n){var a,o,c,i;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(sessionStorage.getItem("account")),o=(a||"").account,c=(o||"").access_token,t.prev=3,t.next=6,fetch("".concat(r,"?access-token=").concat(c),{method:"POST",body:JSON.stringify(n)});case 6:return i=t.sent,t.abrupt("return",e.responseHandling(i));case 10:t.prev=10,t.t0=t.catch(3),e.catchError("",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,r){return t.apply(this,arguments)}}(),this.responseHandling=function(){var t=Object(u.a)(ot().mark((function t(r){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r.status,t.next=200===t.t0||201===t.t0||304===t.t0?3:204===t.t0?7:400===t.t0?8:401===t.t0||403===t.t0?12:404===t.t0?16:405===t.t0?20:422===t.t0?24:500===t.t0?28:32;break;case 3:return t.next=5,r.json();case 5:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",{});case 8:return t.next=10,e.catchError("Bad Request",r.statusText);case 10:return t.abrupt("return",t.sent);case 12:return t.next=14,e.catchError("Authentication failed",r.statusText);case 14:return t.abrupt("return",t.sent);case 16:return t.next=18,e.catchError("Doesn't exist",r.statusText);case 18:return t.abrupt("return",t.sent);case 20:return t.next=22,e.catchError("Method not allowed",r.statusText);case 22:return t.abrupt("return",t.sent);case 24:return t.next=26,e.catchError("Data Validation Fail",r.statusText);case 26:return t.abrupt("return",t.sent);case 28:return t.next=30,e.catchError("Internal Server error",r.statusText);case 30:return t.abrupt("return",t.sent);case 32:return t.next=34,e.catchError("There was an error.  Check your internet connection","");case 34:return t.abrupt("return",t.sent);case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.catchError=function(t,e){var r={name:t,message:e};return N.error(r)}})));function it(){it=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function s(t,e,r,a){var o=e&&e.prototype instanceof h?e:h,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:E(t,r,i)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=s;var f={};function h(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=d.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var a;n(this,"_invoke",{value:function(n,o){function c(){return new e((function(a,c){!function n(a,o,c,i){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,i)}))}i(u.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function E(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new w(s(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},b(g),u(g,i,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var ut={collections:[],collection:""},st=function(t,e){switch(e.type){case"ADD_COLLECTIONS":return Object(g.a)(Object(g.a)({},t),{},{collections:e.collections});case"UPDATE_COLLECTION_FORM":return Object(g.a)(Object(g.a)({},t),{},{collection:e.collections});case"UPDATE_COLLECTIONS":return Object(g.a)(Object(g.a)({},t),{},{collections:e.collections});default:return t}};var lt=function(t){var e=Object(n.useReducer)(st,ut),r=Object(y.a)(e,2),o=r[0],c=r[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var t=Object(u.a)(it().mark((function t(){var e;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct.collections();case 2:e=t.sent,c({type:"ADD_COLLECTIONS",collections:e});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(it().mark((function e(r){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n={name:o.collection},e.next=4,P.createNewCollection(n);case 4:e.sent?(K("New collection successfully created"),i(),t.newCollections()):z("Unable to create collection");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(t,e){var r=o.collections;r[e].name=t.target.value,c({type:"UPDATE_COLLECTIONS",collections:r})},f=function(){var e=Object(u.a)(it().mark((function e(r,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("This will update all items in this collection. Are you sure you want to update?")){e.next=5;break}return e.next=3,P.updateCollection(o.collections[n]);case 3:e.sent?K("Collections updated"):z("There was a problem updating this collection");case 5:i(),t.newCollections();case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(it().mark((function e(r,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,P.collectionHasItems(n);case 3:if(!e.sent){e.next=8;break}z("This collection cannot be deleted because it has items tied to it"),e.next=13;break;case 8:if(!window.confirm("Delete this collection? This action can only be undone by the database administrator.")){e.next=13;break}return e.next=11,P.deleteCollection({id:n.id});case 11:e.sent?K("Collection removed"):z("Collection could not be removed");case 13:i(),t.newCollections();case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("div",{style:{backgroundColor:"#fff",padding:"20px",textAlign:"middle",marginTop:"20px"}},a.a.createElement(ft,{handleFormChange:function(t){c({type:"UPDATE_COLLECTION_FORM",collections:t.target.value})},handleFormSubmit:s,collection:o.collection})),a.a.createElement(U.a,null,a.a.createElement(R.a,null,Object.keys(o.collections).map((function(t,e){return a.a.createElement(ht,{data:o.collections[t],index:e,key:e,handleUpdateSubmit:f,handleUpdateFormChange:l,handleDeleteSubmit:h})})))))},ft=function(t){var e=t.handleFormChange,r=t.handleFormSubmit,n=t.collection;return a.a.createElement(V.a,{onSubmit:function(t){return r(t)}},a.a.createElement(F.a,null,a.a.createElement(G.a,{md:"8"},a.a.createElement(H.a,{type:"text",value:n,onChange:function(t){return e(t)},name:"collection",placeholder:"Add a new collection..."})),a.a.createElement(G.a,{md:"2"},a.a.createElement(D.a,{color:"primary"},"Submit"))))},ht=function(t){var e=t.data,r=t.index,n=t.handleUpdateFormChange,o=t.handleUpdateSubmit,c=t.handleDeleteSubmit;return a.a.createElement("div",{key:r,style:{paddingBottom:"20px"}},a.a.createElement(F.a,null,a.a.createElement(G.a,{md:"8"},a.a.createElement(H.a,{type:"text",onChange:function(t){return n(t,r)},value:e.name,name:"name"})),a.a.createElement(G.a,null,a.a.createElement(D.a,{color:"primary",style:{marginRight:"10px"},onClick:function(t){o(t,r)}},"Update"),a.a.createElement(D.a,{color:"danger",onClick:function(t){c(t,e)}},"Delete"))))},pt=r(124),dt=r(125),vt=r(126),mt=r(127),yt=r(128),gt=r(129),bt=r(6),wt=r.n(bt);function Et(){Et=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function s(t,e,r,a){var o=e&&e.prototype instanceof h?e:h,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:E(t,r,i)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=s;var f={};function h(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=d.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var a;n(this,"_invoke",{value:function(n,o){function c(){return new e((function(a,c){!function n(a,o,c,i){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,i)}))}i(u.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function E(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new w(s(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},b(g),u(g,i,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var xt=function(t){var e=t.users,r=t.updatePassword,n=t.updateLevel,o=t.handleSubmit,c=t.handleDelete;return a.a.createElement(gt.a,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Email"),a.a.createElement("th",null,"Password"),a.a.createElement("th",null,"Level"),a.a.createElement("th",null,"Actions"))),a.a.createElement("tbody",null,e&&e.length?Object.keys(e).map((function(t,i){return a.a.createElement("tr",{key:i},a.a.createElement("td",null,e[t].name),a.a.createElement("td",null,e[t].email),a.a.createElement("td",null,a.a.createElement(H.a,{type:"password",name:"password",value:e[t].password,onChange:function(t){return r(t,i)}})),a.a.createElement("td",null,a.a.createElement(H.a,{type:"number",name:"level",value:e[t].level,min:"0",max:"100",onChange:function(t){return n(t,i)}})),a.a.createElement("td",null,a.a.createElement(D.a,{color:"primary",onClick:function(t){return o(t,i)},style:{marginRight:"10px"}},"Update"),a.a.createElement(D.a,{color:"danger",onClick:function(t){return c(t,i)}},"Delete")))})):null))},Ot=function(){var t=Object(n.useReducer)((function(t,e){switch(e.type){case"CREATE_ACCOUNT":var r=t.createNewAccount;return r[e.payload.name]=e.payload.value,Object(g.a)(Object(g.a)({},t),{},{createNewAccount:r});case"RESET":return Object(g.a)(Object(g.a)({},t),{},{createNewAccount:{email:"",password:"",name:"",level:""}});default:throw new Error}}),{createNewAccount:{email:"",password:"",name:"",level:""}}),e=Object(y.a)(t,2),r=e[0],o=e[1],c=function(t){o({type:"CREATE_ACCOUNT",payload:{name:t.target.name,value:t.target.value}})},i=function(){var t=Object(u.a)(Et().mark((function t(e){var n;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n={email:r.createNewAccount.email},t.next=4,P.verifyAccount(n);case 4:if(!t.sent){t.next=9;break}z("An account with this email address already exists. If it does not appear in the list, it may have been deleted. Contact the system administrator to restore a deleted account if necessary."),t.next=13;break;case 9:return t.next=11,P.createAccount(r.createNewAccount);case 11:t.sent?(o({type:"RESET",payload:{}}),K("Account successfully created")):z("There was a problem creating this account");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement(V.a,{className:"form-signin"},a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"email"},"Email address"),a.a.createElement(H.a,{type:"email",value:r.createNewAccount.email,pattern:"/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/",name:"email",onChange:function(t){return c(t)},required:!0,autoFocus:!0})),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"password"},"Password"),a.a.createElement(H.a,{type:"password",name:"password",value:r.createNewAccount.password,onChange:function(t){return c(t)},required:!0})),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"name"},"Name"),a.a.createElement(H.a,{type:"text",name:"name",value:r.createNewAccount.name,onChange:function(t){return c(t)},required:!0})),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"level"},"Level"),a.a.createElement(H.a,{type:"number",name:"level",min:"0",max:"100",value:r.createNewAccount.level,onChange:function(t){return c(t)},required:!0})),a.a.createElement(D.a,{color:"primary",className:"btn-block",onClick:function(t){return i(t)},type:"submit"},"Create account")))},kt=function(){var t=Object(n.useState)([]),e=Object(y.a)(t,2),r=e[0],o=e[1],c=Object(n.useState)(0),i=Object(y.a)(c,2),s=(i[0],i[1]),l=Object(n.useState)(""),f=Object(y.a)(l,2),h=(f[0],f[1]),p=Object(n.useState)("user_update"),d=Object(y.a)(p,2),v=d[0],m=d[1];Object(n.useEffect)((function(){b()}),[]);var g=function(t){v!==t&&m(t),b()};function b(){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(Et().mark((function t(){var e;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getUsers();case 2:e=t.sent,o(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var E=function(){var t=Object(u.a)(Et().mark((function t(e,n){var a,o;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),a=r[n],t.next=4,P.accountUpdate(a);case 4:o=t.sent,r[n].password="",h(""),o?K("Account successfully updated"):z("There was an error updating this account. Please make sure that the level is between 0 and 100.");case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#fff",marginTop:"50px",padding:"20px"}},a.a.createElement("div",{style:{paddingBottom:"50px"}},a.a.createElement(pt.a,{tabs:!0},a.a.createElement(dt.a,null,a.a.createElement(vt.a,{className:wt()({active:"user_update"===v}),onClick:function(){g("user_update")}},"Users")),a.a.createElement(dt.a,null,a.a.createElement(vt.a,{className:wt()({active:"user_creation"===v}),onClick:function(){g("user_creation")}},"Create new user"))),a.a.createElement("br",null),a.a.createElement(mt.a,{activeTab:v},a.a.createElement(yt.a,{tabId:"user_update"},a.a.createElement(xt,{users:r,updatePassword:function(t,e){t.preventDefault(),r[e].password=t.target.value,h(t.target.value)},updateLevel:function(t,e){t.preventDefault(),r[e].level=t.target.value,s(t.target.value)},handleSubmit:E,handleDelete:function(t,e){if(t.preventDefault(),window.confirm("Delete this user? This action can only be undone by the database administrator.")){var n=r[e];P.accountDelete(n)?(K("Account successfully deleted"),b()):z("There was an error deleting this account")}}})),a.a.createElement(yt.a,{tabId:"user_creation"},a.a.createElement(Ot,null)))))},Lt=r(130),jt=r(131),St=r(132),_t=r(133),Tt=r(135),Ct=r(136),Nt=r(137),At=r(134),It=function(t){Object(f.a)(r,t);var e=Object(h.a)(r);function r(){var t;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={isOpen:!1},t.toggle=function(){t.setState({isOpen:!t.state.isOpen})},t.logOut=function(t){t.preventDefault(),sessionStorage.clear(),window.location.href="http://localhost:3000"},t}return Object(l.a)(r,[{key:"render",value:function(){var t=this,e=((JSON.parse(sessionStorage.getItem("account"))||"").account||"").level;return a.a.createElement("div",null,a.a.createElement(Lt.a,{color:"dark",dark:!0,expand:"md"},a.a.createElement(jt.a,{href:"#!"},"SIS \u201923 (Version 4.0.0)"),a.a.createElement(St.a,{onClick:this.toggle}),sessionStorage.getItem("account")?a.a.createElement(_t.a,{isOpen:this.state.isOpen,navbar:!0},a.a.createElement(pt.a,{className:"ml-auto",navbar:!0},a.a.createElement(dt.a,null,a.a.createElement(p.b,{className:"nav-link",activeStyle:{color:"#007BFF"},to:"/new-tray"},"New tray")),a.a.createElement(Tt.a,{nav:!0,inNavbar:!0},a.a.createElement(Ct.a,{nav:!0,caret:!0},"Manage"),a.a.createElement(Nt.a,{right:!0},a.a.createElement(At.a,null,a.a.createElement(p.b,{style:{color:"black"},activeStyle:{color:"#007BFF"},className:"nav-link",to:"/collections"},"Collections")),e>=100?a.a.createElement(At.a,null,a.a.createElement(p.b,{style:{color:"black"},activeStyle:{color:"#007BFF"},className:"nav-link",to:"/users"},"Users")):"")),a.a.createElement(dt.a,null,a.a.createElement(p.b,{className:"nav-link",activeStyle:{color:"#007BFF"},to:"#!",onClick:function(e){return t.logOut(e)}},"Log out")))):""))}}]),r}(n.Component),Pt=r(72),Dt=r.n(Pt),Ft=(r(112),function(t){var e=t.handleLoginChange,r=t.handleLoginSubmit,n=t.state;return a.a.createElement("div",{className:"login-form"},a.a.createElement(V.a,{className:"form-signin"},a.a.createElement("div",{className:"text-center mb-4"},a.a.createElement("img",{className:"mb-4",src:Dt.a,alt:"SIS Logo",width:"172",height:"172"})),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"email"},"Email Address"),a.a.createElement(H.a,{type:"email",name:"email",value:n.email,onChange:function(t){return e(t)},placeholder:"email address",required:!0,autoFocus:!0})),a.a.createElement(q.a,null,a.a.createElement(Y.a,{for:"password"},"Password"),a.a.createElement(H.a,{type:"password",name:"password",value:n.password,onChange:function(t){return e(t)},placeholder:"password",required:!0})),a.a.createElement(D.a,{color:"primary",className:"btn-block",onClick:function(t){return r(t)},type:"submit"},"Login")," "))});r(113);function Gt(){Gt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function s(t,e,r,a){var o=e&&e.prototype instanceof h?e:h,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:E(t,r,i)}),c}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=s;var f={};function h(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=d.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var a;n(this,"_invoke",{value:function(n,o){function c(){return new e((function(a,c){!function n(a,o,c,i){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,i)}))}i(u.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function E(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new w(s(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},b(g),u(g,i,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var Ut=function(t){Object(f.a)(r,t);var e=Object(h.a)(r);function r(){var t;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={collections:{},email:"",password:"",loggedIn:!1,createAccount:!1,type:"",name:"",settings:{}},t.componentDidMount=Object(u.a)(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(sessionStorage.getItem("account")||!0===t.state.loggedIn)&&(t.collections(),t.settings());case 1:case"end":return e.stop()}}),e)}))),t.localStorage=function(){var t=Object(u.a)(Gt().mark((function t(e){var r;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.a.getItem(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.collections=Object(u.a)(Gt().mark((function e(){var r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.collections();case 2:r=e.sent,t.setState({collections:r});case 4:case"end":return e.stop()}}),e)}))),t.settings=Object(u.a)(Gt().mark((function e(){var r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.localStorage("settings");case 2:if(r=e.sent){e.next=8;break}return e.next=6,ct.setting();case 6:r=e.sent,J.a.setItem("settings",r);case 8:t.setState({settings:r});case 9:case"end":return e.stop()}}),e)}))),t.handleCreateNewPage=function(){t.setState({createAccount:!0})},t.handleLoginChange=function(e){t.setState(Object(i.a)({},e.target.name,e.target.value))},t.handleLoginSubmit=function(){var e=Object(u.a)(Gt().mark((function e(r){var n,a,o,c,i,u;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n={email:t.state.email,password:t.state.password},e.next=4,P.getAccount(n);case 4:a=e.sent,c=(o=a||"").name,i=o.access_token,u=o.level,a&&a.access_token?t.setState({loggedIn:!0,name:c,access_key:i,level:u},(function(){sessionStorage.setItem("account",JSON.stringify({loggedIn:!0,account:a})),t.collections()})):z("There was a problem with your username or password");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.loginPage=function(){t.setState({createAccount:!1})},t}return Object(l.a)(r,[{key:"render",value:function(){var t=this,e=this.state,r=e.loggedIn,n=e.settings;return a.a.createElement("div",null,a.a.createElement(W.a,null),a.a.createElement(p.a,{basename:"/sis"},a.a.createElement(It,{name:this.state.name,level:this.state.level}),sessionStorage.getItem("account")||!0===r?a.a.createElement("div",{className:"container-fluid"},a.a.createElement(d.c,null,a.a.createElement(d.a,{path:"/new-tray",render:function(){return a.a.createElement(at,{collections:t.state.collections,settings:n})}}),a.a.createElement(d.a,{path:"/manage-collections",render:function(){return a.a.createElement(lt,{collections:t.state.collections,newCollections:t.collections})}}),a.a.createElement(d.a,{path:"/users",render:function(){return a.a.createElement(kt,{settings:n})}}))):a.a.createElement(Ft,{handleCreateNewPage:this.handleCreateNewPage,handleLoginChange:this.handleLoginChange,handleLoginSubmit:this.handleLoginSubmit,state:this.state})))}}]),r}(n.Component),Rt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Vt(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var r=t.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}c.a.render(a.a.createElement(Ut,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/sis",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/sis","/service-worker.js");Rt?(!function(t,e){fetch(t).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):Vt(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Vt(e,t)}))}}()},72:function(t,e,r){t.exports=r.p+"static/media/sis-logo.d4646eab.png"},74:function(t,e,r){t.exports=r(114)},79:function(t,e,r){},80:function(t,e,r){}},[[74,1,2]]]);
//# sourceMappingURL=main.7e65a792.chunk.js.map